{% extends 'base.html.twig' %}
{% import '_macros.html.twig' as macros %}

{% block title %}{{ parent() }} - Users{% endblock %}

{% block body %}
<div class="float-right">
  <a href="{{ path('user_new') }}" class="btn btn-primary"><i class="fas fa-plus"></i> New User</a>
</div>
<div class="h4">Users</div>

{% include 'admin/_admin_nav.html.twig' %}

<table class="table w-auto">
    <thead>
        <tr>
            <th>E-mail</th>
            <th>Roles</th>
            <th class="col-edit">&nbsp;</th>
        </tr>
    </thead>
    <tbody>
    {% for user in users %}
        <tr>
            <td><a href="{{ path('user_show', {'id': user.id}) }}">{{ user.email }}</a></td>
            <td>{{ macros.user_roles(user.roles) }}</td>
            <td>
                <a href="{{ path('user_edit', {'id': user.id}) }}"><i class="fas fa-edit fa-fw"></i></a>
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="99"><div class="alert alert-info">No records matched your criteria.</div></td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock %}
